graph LR
    subgraph "MCP Primitives"
        R["üìñ Resources<br/>Read-Only Data"]
        T["üîß Tools<br/>State-Changing Actions"]
        P["üìù Prompts<br/>AI Templates"]
        S["üß† Sampling<br/>Inversion of Control"]
    end
    
    subgraph "CryptoFlow Implementation"
        R1["portfolio://current<br/>GetPortfolioUseCase"]
        T1["place_order<br/>PlaceOrderUseCase"]
        T2["analyze_sentiment<br/>Client LLM Sampling"]
        P1["daily_briefing<br/>RAGService Enhanced"]
    end
    
    subgraph "Hexagonal Architecture"
        UC["Use Cases<br/>(Application Layer)"]
        DE["Domain Entities<br/>(Domain Layer)"]
        AD["Adapters<br/>(Infrastructure)"]
    end
    
    R -.->|Implements| R1
    T -.->|Implements| T1
    T -.->|Implements| T2
    P -.->|Implements| P1
    
    R1 -->|Delegates to| UC
    T1 -->|Delegates to| UC
    P1 -->|Uses| UC
    
    UC -->|Creates/Returns| DE
    UC -->|Uses| AD
    
    style R fill:#000,stroke:#2e7d32,color:#fff
    style T fill:#000,stroke:#e65100,color:#fff
    style P fill:#000,stroke:#1565c0,color:#fff
    style S fill:#000,stroke:#6a1b9a,color:#fff
    style R1 fill:#000,stroke:#2e7d32,color:#fff
    style T1 fill:#000,stroke:#e65100,color:#fff
    style T2 fill:#000,stroke:#e65100,color:#fff
    style P1 fill:#000,stroke:#1565c0,color:#fff
